generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum OrderType {
  LIMIT
  MARKET
}

enum OrderSide {
  BUY
  SELL
  UNKNOWN
}

enum OrderStatus {
  ACTIVE
  PARTIALLY_FILLED
  FILLED
}

model Order {
  id               String     @id
  creatorAddress   String
  tokenA           String
  tokenB           String
  amountA          String
  amountB          String
  amountLeftToFill String     @default("0")
  isActive         Boolean    @default(true)
  createdAt        DateTime   @default(now())
  updatedAt        DateTime?  @updatedAt
  orderType        OrderType  @default(LIMIT)
  orderSide        OrderSide  @default(UNKNOWN)
  filled           Decimal    @default(0)
  orderStatus      OrderStatus @default(ACTIVE)
  executionPrice   Decimal?
  fee              Decimal?
  cancelable       Boolean?   @default(true)

  @@index([tokenA, tokenB, creatorAddress], name: "order_search_index")
}
